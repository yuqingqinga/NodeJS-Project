<!DOCTYPE html>
<html>
  <head>
    <title>首页</title>
    <link rel="stylesheet" href="/stylesheets/style.css "/>
    <link rel="stylesheet" href="/uikit/css/uikit.css">
    <script src="/uikit/js/uikit.js"></script>
    <script src="/uikit/js/uikit-icons.min.js"></script>
  </head>
  <body>
    <!-- nav-top -->
    <div class="uk-width-1-1 nav bg-color uk-position-relative" >
      <div class="uk-container uk-container-expand">
          <nav class="uk-navbar">
              <div class="uk-navbar-left">
                  <span class="font-color logo" onclick="window.location='/'">晴晴的留言板</span>
              </div>
              <div class="uk-navbar-right ">
                    <div class="uk-navbar uk-navbar-item" style="color: white; font-weight: bolder;"> <%= username %> </div>
                    <div class="uk-navbar uk-navbar-item" style="font-weight: bolder;">
                        <a href="/write" style="color: white;">写留言</a>
                    </div>
                    <div class="uk-navbar uk-navbar-item" style="font-weight: bolder;">
                        <a href="/users/logout" style="color: white;">退出</a>
                    </div>
              </div>  
          </nav>
      </div>     
    </div>

    <!-- 列表展示区域 -->
    <div class=" uk-child-width-1-3@m" uk-grid="masonry: true" >
      <% data.list.map((item, index) => { %>
        <div  class=" uk-flex uk-flex-center uk-flex-middle" >
          <article class="uk-comment uk-comment-primary uk-position-relative" style=" background-color:transparent;">
            <header class="uk-comment-header uk-grid-medium uk-flex-middle" uk-grid>
                <!-- <div class="uk-width-auto">
                    <img class="uk-comment-avatar" src="/img" width="80" height="80" alt="">
                </div> -->
                <div class="uk-width-expand">
                    <h4 class="uk-comment-title uk-margin-remove"><a class="uk-link-reset" href="/detail?id=<%= item.id%>"> <%= item.title %></a></h4>
                    <ul class="uk-comment-meta uk-subnav uk-subnav-divider uk-margin-remove-top">
                      <li><a href="#"><%= item.username %></a></li>
                      <li><a href="#"><%= item.time %></a></li>
                    </ul>
                </div>
            </header>
            <!-- <div class="uk-comment-body">
                <p><%= item.content %></p>
            </div> -->
            <div class="uk-margin">
              <button class="uk-button uk-button-primary " style="background-color: #7952b3d6"
                      onclick="window.location.href='/write?id=<%= item.id%>&page=<%=data.curPage%>' ">
                      修改</button>
              <button class="uk-button uk-button-primary " style="background-color: #7952b3d6" 
                      onclick="window.location.href='/article/delete?id=<%= item.id%>&page=<%=data.curPage%>' ">
                      删除</button>
            </div>
          </article>
        </div>      
     <% }) %>
    </div>
       
    <!-- 分页 -->
    <ul class="uk-pagination uk-flex-center"  uk-margin>
      <li><a href="#"><span uk-pagination-previous></span></a></li>
      <% for(let i = 1;i<= data.total; i++ ){ %>
        <li><a href="/?page=<%= i %>"><%= i %></a></li>
      <% } %>
      
      <li><a href="#"><span uk-pagination-next></span></a></li>
  </ul>
    
  </body>
</html>
